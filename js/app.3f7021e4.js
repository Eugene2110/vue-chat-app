(function(){"use strict";var e={6671:function(e,s,t){var n=t(3751),r=t(641);const a={class:"container"};function c(e,s,t,n,c,i){const d=(0,r.g2)("ChatList"),l=(0,r.g2)("ChatWindow");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(d,{users:c.users,onUserSelected:i.selectUser},null,8,["users","onUserSelected"]),null!==c.selectedUserId?((0,r.uX)(),(0,r.Wv)(l,{key:0,currentUser:c.currentUser,users:c.users,selectedUserId:c.selectedUserId},null,8,["currentUser","users","selectedUserId"])):(0,r.Q3)("",!0)])}var i=t(33);const d=e=>((0,r.Qi)("data-v-61b7fc7e"),e=e(),(0,r.jt)(),e),l={class:"chat-list-container"},u={class:"chat-list"},o=d((()=>(0,r.Lk)("h2",{class:"chat-list-title"},"–°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤:",-1))),h=["onClick"],p=d((()=>(0,r.Lk)("span",{class:"user-icon"},"üë§",-1)));function f(e,s,t,n,a,c){return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",u,[o,(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.users,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,onClick:s=>c.selectUser(e.id),class:"chat-list-item"},[p,(0,r.eW)(" "+(0,i.v_)(e.name),1)],8,h)))),128))])])])}var v={props:["users"],created(){this.channel=new BroadcastChannel("chat_channel"),this.channel.onmessage=e=>{const s=e.data;"selectUser"===s.type&&(this.$emit("userSelected",s.userId),localStorage.setItem("selectedUserId",s.userId))}},methods:{selectUser(e){this.$emit("userSelected",e),this.channel.postMessage({type:"selectUser",userId:e}),localStorage.setItem("selectedUserId",e)}}},g=t(6262);const m=(0,g.A)(v,[["render",f],["__scopeId","data-v-61b7fc7e"]]);var U=m;const I={class:"chat-window"},k={class:"chat-header"},b={class:"chat-header-title"},w={class:"messages"},C={class:"message-sender"},y={class:"message-text"},L={class:"input-box"};function M(e,s,t,a,c,d){return(0,r.uX)(),(0,r.CE)("div",I,[(0,r.Lk)("div",k,[(0,r.Lk)("h2",b,(0,i.v_)(d.selectedUserName),1)]),(0,r.Lk)("div",w,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.messages,((e,s)=>((0,r.uX)(),(0,r.CE)("div",{key:s,class:"message"},[(0,r.Lk)("div",C,(0,i.v_)(e.sender),1),(0,r.Lk)("div",y,(0,i.v_)(e.text),1)])))),128))]),(0,r.Lk)("div",L,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.newMessage=e),onKeyup:s[1]||(s[1]=(0,n.jR)(((...e)=>d.sendMessage&&d.sendMessage(...e)),["enter"])),type:"text",placeholder:"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."},null,544),[[n.Jo,c.newMessage]]),(0,r.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>d.sendMessage&&d.sendMessage(...e)),class:"send-button"},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å")])])}t(4114);var _={props:["currentUser","selectedUserId","users"],data(){return{newMessage:""}},computed:{selectedUserName(){const e=this.users.find((e=>e.id===this.selectedUserId));return e?e.name:""},messages(){const e=this.users.find((e=>e.id===this.selectedUserId));return e?e.messages:[]}},created(){this.channel=new BroadcastChannel("chat_channel"),this.channel.onmessage=e=>{const s=e.data;"message"===s.type&&s.userId===this.selectedUserId&&this.users.find((e=>e.id===this.selectedUserId)).messages.push({sender:s.sender,text:s.message})}},methods:{sendMessage(){""!==this.newMessage.trim()&&(this.channel.postMessage({type:"message",userId:this.selectedUserId,sender:this.currentUser,message:this.newMessage}),this.users.find((e=>e.id===this.selectedUserId)).messages.push({sender:this.currentUser,text:this.newMessage}),this.newMessage="")}}};const x=(0,g.A)(_,[["render",M],["__scopeId","data-v-24bcf2e6"]]);var O=x,E={components:{ChatList:U,ChatWindow:O},data(){return{currentUser:"–ï–≤–≥–µ–Ω–∏–π",users:[{id:1,name:"–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞",messages:[]},{id:2,name:"–ï–ª–∏–∑–∞–≤–µ—Ç–∞",messages:[]},{id:3,name:"–ê–Ω–Ω–∞",messages:[]}],selectedUserId:null}},methods:{selectUser(e){this.selectedUserId=e}}};const j=(0,g.A)(E,[["render",c]]);var X=j;(0,n.Ef)(X).mount("#app")}},s={};function t(n){var r=s[n];if(void 0!==r)return r.exports;var a=s[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(s,n,r,a){if(!n){var c=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var i=!0,d=0;d<n.length;d++)(!1&a||c>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[d])}))?n.splice(d--,1):(i=!1,a<c&&(c=a));if(i){e.splice(u--,1);var l=r();void 0!==l&&(s=l)}}return s}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var r,a,c=n[0],i=n[1],d=n[2],l=0;if(c.some((function(s){return 0!==e[s]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(d)var u=d(t)}for(s&&s(n);l<c.length;l++)a=c[l],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},n=self["webpackChunkvue_chat_app"]=self["webpackChunkvue_chat_app"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(6671)}));n=t.O(n)})();
//# sourceMappingURL=app.3f7021e4.js.map